defaultWorkflowId: greenfield_project
rules:
  - id: p0_security_tags
    workflowId: security_audit
    priority: [P0]
    tagsAny: [security, audit, vuln, vulnerability, auth, permissions]
    precedes: [p0_bugfix, security_focus]

  - id: p0_security_title
    workflowId: security_audit
    priority: [P0]
    titleKeywordsAny: [security, audit, vulnerability, auth, permissions]
    precedes: [p0_bugfix, security_focus]

  - id: p0_security_goal
    workflowId: security_audit
    priority: [P0]
    goalKeywordsAny: [security, audit, vulnerability, auth, permissions]
    precedes: [p0_bugfix, security_focus]

  - id: p0_bugfix
    workflowId: bug_fix
    priority: [P0]
    precedes: [bug_tags_keywords, security_focus, ops_focus, content_focus]

  - id: bug_tags_keywords
    workflowId: bug_fix
    tagsAny: [bug, hotfix, incident, regression]
    titleKeywordsAny: [bug, fix, hotfix, regression]
    goalKeywordsAny: [bug, fix, regression, incident]

  - id: security_focus
    workflowId: security_audit
    tagsAny: [security, audit, vuln, vulnerability, auth]
    titleKeywordsAny: [security, audit, vulnerability, auth, permissions]
    goalKeywordsAny: [security, audit, vulnerability, auth, permissions]

  - id: ops_focus
    workflowId: ops_change
    tagsAny: [ops, infrastructure, infra, deploy, sre, platform]
    titleKeywordsAny: [ops, infrastructure, deploy, migration, platform]
    goalKeywordsAny: [ops, infrastructure, deploy, migration, runbook]

  - id: content_focus
    workflowId: content_creation
    tagsAny: [content, docs, documentation, blog, marketing]
    titleKeywordsAny: [content, docs, documentation, article, blog]
    goalKeywordsAny: [content, docs, documentation, blog, article]
